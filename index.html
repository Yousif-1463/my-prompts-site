<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mr ChatGPT — استخرج الأمر بكتابة الكود</title>
<meta name="description" content="اكتب كود مثل MY1 لاسترجاع الأمر من prompts.json ثم انسخه فوراً." />
<meta name="theme-color" content="#0ea5ea" />
<style>
  *,*::before,*::after{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Cairo", "Tajawal", sans-serif;
    background:
      radial-gradient(1200px 600px at 100% -20%, rgba(14,165,233,.20), transparent 60%),
      radial-gradient(1200px 600px at -10% 120%, rgba(99,102,241,.20), transparent 60%),
      linear-gradient(180deg, #0b1020 0%, #0f172a 100%);
    color:#e5e7eb; overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{max-width:980px;margin-inline:auto;padding:20px}

  header{display:flex;align-items:center;justify-content:flex-end;gap:12px;margin:6px 0 14px}
  .brand{display:flex;align-items:center;gap:10px}
  .logo{
    width:34px;height:34px;border-radius:10px;position:relative;
    background: conic-gradient(from 0deg, #22d3ee, #a78bfa, #34d399, #22d3ee);
    box-shadow: 0 8px 28px rgba(79,70,229,.35), inset 0 1px 2px rgba(255,255,255,.3);
  }
  .logo::before{
    content:"∞"; position:absolute; inset:0; display:grid; place-items:center;
    color:#0b1220; font-weight:900; font-size:20px; filter:drop-shadow(0 1px 1px rgba(255,255,255,.65));
  }
  .brand-name{font-weight:800;letter-spacing:.4px}

  .hero{
    background: rgba(255,255,255,.02);
    border:1px solid rgba(255,255,255,.06);
    border-radius:22px; padding:22px; box-shadow:0 10px 30px rgba(0,0,0,.25);
  }
  h1{margin:0 0 6px;font-size:28px}
  .subtitle{margin:0 0 14px;color:#a5b4fc}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  input[type="text"]{
    flex:1;min-width:200px;background:#0b1220;border:1px solid rgba(255,255,255,.10);
    border-radius:14px;padding:14px;color:#e5e7eb;outline:none;transition: border-color .2s, box-shadow .2s;
  }
  input[type="text"]::placeholder{color:#93a3bd}
  input[type="text"]:focus{ border-color:#60a5fa; box-shadow:0 0 0 4px rgba(96,165,250,.15); }

  .btn{border:0;border-radius:14px;padding:12px 16px;font-weight:800;cursor:pointer;color:#0b1220;position:relative;isolation:isolate;transition:transform .06s ease;}
  .btn:active{transform:translateY(1px)}
  .btn-primary{background: linear-gradient(135deg,#22d3ee,#60a5fa 60%,#a78bfa); box-shadow: 0 10px 30px rgba(80,120,255,.35), inset 0 1px 0 rgba(255,255,255,.5);}
  .btn-ghost{background:linear-gradient(180deg,#0d1426,#0b1220); color:#e5e7eb; border:1px solid rgba(255,255,255,.10);}
  .btn-success{background: linear-gradient(135deg,#34d399,#22c55e 60%,#4ade80); box-shadow:0 10px 30px rgba(34,197,94,.30), inset 0 1px 0 rgba(255,255,255,.5);}
  .btn-icon{padding:10px;border-radius:12px; width:48px; height:48px; display:grid; place-items:center}

  .result{margin-top:16px;background:#0b1220;border:1px solid rgba(255,255,255,.06); border-radius:18px;padding:18px;line-height:1.85}
  .result h3{margin:0 0 8px;font-size:18px;color:#c7d2fe}
  .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}

  /* كتاب — غلاف أكبر وواضح */
  .book{
    margin-top:22px;display:grid;gap:16px;grid-template-columns: 1fr;align-items:center;
    background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:16px;
  }
  .book-visual{
    border-radius:18px;border:1px solid rgba(255,255,255,.08); overflow:hidden;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
  }
  .book-visual img{width:100%; height:auto; display:block}
  .book-body{display:grid;gap:10px}
  @media (min-width:720px){
    .book{grid-template-columns: 320px 1fr}
    .book-visual{height:100%}
    .book-visual img{height:100%; object-fit:cover}
  }

  .price{display:flex;align-items:center;gap:12px;margin-top:4px;flex-wrap:wrap}
  .price .old{color:#9ca3af;text-decoration: line-through; font-weight:700}
  .price .now{font-size:26px;font-weight:900;background:linear-gradient(90deg,#f59e0b,#fb7185);-webkit-background-clip:text;background-clip:text;color:transparent;}
  .countdown{font-weight:800;color:#fca5a5;display:inline-flex;gap:10px;align-items:center}
  .chip{display:inline-flex;align-items:center;gap:6px;color:#fde68a;background:rgba(250,204,21,.08);border:1px solid rgba(250,204,21,.25);padding:.35rem .6rem;border-radius:999px;font-weight:800;font-size:12px}

  .btns{display:flex;gap:10px;flex-wrap:wrap}
  .btn-small{padding:10px 14px;border-radius:14px}

  .panel{margin-top:22px;background:#0b1220;border:1px solid rgba(255,255,255,.06); border-radius:16px;padding:16px;line-height:1.9}

  .links{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;margin:24px 0 8px}
  .link-btn{padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.10); background:linear-gradient(180deg,#0d1426,#0b1220);color:#e5e7eb;font-weight:800;cursor:pointer}

  .social{
    margin:22px 0 6px;display:flex;flex-wrap:wrap;gap:10px;justify-content:center;
    background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);
    border-radius:16px;padding:10px;
  }
  .social a{
    display:inline-flex;align-items:center;gap:8px;
    padding:10px 14px;border-radius:999px;
    background:linear-gradient(135deg, #22d3ee, #60a5fa 60%, #a78bfa);
    color:#0b1220;font-weight:900;
    box-shadow:0 8px 24px rgba(96,165,250,.3), inset 0 1px 0 rgba(255,255,255,.6);
  }
  .social svg{width:18px;height:18px}

  .sheet{position:fixed;inset:0;display:none;place-items:end;background:rgba(0,0,0,.45);z-index:50}
  .sheet.active{display:grid}
  .sheet-card{background:#0b1220;border-radius:18px 18px 0 0;border:1px solid rgba(255,255,255,.08); padding:16px 16px 26px;max-height:80vh;overflow:auto}
  .sheet h3{margin:0 0 8px}
  .sheet .back{margin-top:12px}
  footer{margin:18px 0;color:#94a3b8;text-align:center;font-size:13px}
  .hidden{display:none}
</style>
</head>
<body>
  <div class="container">

    <!-- Header: شعار فقط -->
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-name">Mr ChatGPT</div>
      </div>
    </header>

    <section class="hero">
      <h1>أستخرج الأمر بكتابة الكود</h1>
      <p class="subtitle">أوامر احترافية تساعدك في إنجاز مهامك وتوفير وقتك.</p>

      <div class="row" role="search">
        <input id="codeInput" type="text" inputmode="latin" placeholder="أكتب الكود — مثال: MY1" aria-label="حقل البحث عن الكود" />
        <button id="btnSearch" class="btn btn-primary" aria-label="بحث عن الكود">بحث</button>
        <button id="btnClear" class="btn btn-ghost" aria-label="مسح الحقل">مسح</button>
      </div>

      <div id="resultBox" class="result hidden" role="region" aria-live="polite">
        <h3 id="resTitle">—</h3>
        <div id="resText" class="muted">—</div>
        <div class="toolbar">
          <!-- زر نسخ أيقونة فقط -->
          <button id="btnCopyText" class="btn btn-success btn-icon" aria-label="نسخ الأمر">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="none" aria-hidden="true">
              <rect x="9" y="9" width="11" height="11" rx="2" stroke="#0b1220" stroke-width="2"/>
              <rect x="4" y="4" width="11" height="11" rx="2" stroke="#0b1220" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>

      <div id="emptyBox" class="muted" style="margin-top:10px">اكتب كودًا ثم اضغط “بحث”.</div>
      <div id="status" class="muted hidden" style="margin-top:8px"></div>
    </section>

    <!-- كتاب: غلاف كبير + أزرار محسنة -->
    <section class="book" aria-labelledby="bookTitle">
      <div class="book-visual">
        <img id="bookImg" src="./book.jpg" alt="غلاف الكتاب" />
      </div>
      <div class="book-body">
        <div class="chip">العرض لفترة محدودة</div>
        <h2 id="bookTitle" style="margin:6px 0 6px">كتاب: إتقان شهر دراسة في 30 دقيقة</h2>
        <p class="muted" style="margin:0">تعلّم بسرعة وذكاء—خطوات عملية تركّز على النتائج بدل الإرهاق.</p>
        <div class="price">
          <span class="old">$5</span>
          <span class="now">$1</span>
          <span class="countdown" id="countdown" aria-label="الوقت المتبقي">00:00:00</span>
        </div>

        <div class="btns" style="margin-top:6px">
          <button id="btnDetails" class="btn btn-ghost btn-small">تفاصيل</button>
          <a id="buyBtn" class="btn btn-primary btn-small" href="#" target="_blank" rel="noopener">شراء عبر واتساب</a>
        </div>

        <div id="detailsBox" class="hidden" style="margin-top:8px; color:#e5e7eb; line-height:1.9">
          🎯 أتقن محتوى شهر كامل من الدراسة في 30 دقيقة فقط — بلا توتر، بلا إرهاق… فقط نتائج واضحة وملموسة.<br><br>
          <b>لماذا هذا البرومبت أداتك السرية؟</b><br>
          🧠 ادرس بذكاء، لا بمجهود أكبر…<br>
          ⏳ يضغط خطة تعلم شهر كامل في جلسة واحدة مكثفة…<br>
          🗺️ خريطة طريق واضحة…<br>
          ⚙️ قابل للتخصيص لأي موضوع…<br>
          🔥 أقصى استفادة من كل دقيقة…<br><br>
          موجّه للطلاب والمحترفين والمتعلمين مدى الحياة. جاهز لتحويل 30 دقيقة إلى إتقان لشهر كامل؟
        </div>
      </div>
    </section>

    <section class="panel">
      <h2 style="margin:0 0 8px">طريقة استخدام الـ PROMPT:</h2>
      <p class="muted" style="margin:0">
        لإستخدام ال Prompt بشكل فعال، اختر الكود المناسب، انسخه إلى الأداة أو الذكاء الاصطناعي ثم عدّل التفاصيل بما يناسب هدفك، ركّز على التخصيص لتحقق أقصى استفادة من النتيجة.
      </p>
    </section>

    <!-- Social Banner -->
    <div class="social" aria-label="تابعنا">
      <a href="https://wa.me/249111343596?text=%D8%A7%D8%B1%D9%8A%D8%AF%20%D8%A7%D9%84%D9%83%D8%AA%D8%A7%D8%A8" target="_blank" rel="noopener" title="WhatsApp">
        <svg viewBox="0 0 24 24" fill="none"><path d="M12 2a10 10 0 0 0-8.6 15l-1 3.7 3.8-.9A10 10 0 1 0 12 2Z" stroke="#0b1220" stroke-width="2"/><path d="M8.5 9.5c0 3 3 5.5 5.5 5.5.7 0 1.6-.3 2.1-.8l.2-.2c.3-.3.4-.8.1-1.1l-1-1a.9.9 0 0 0-1.1-.1l-.5.2c-.5.2-1-.1-1.5-.5ل-1-1c-.4-.5-.7-1-.5-1.5l.2-.5c.1-.4 0-.8-.2-1.1l-1-1c-.3-.3-.8-.2-1.1.1l-.2.2c-.5.5-.8 1.4-.8 2.1Z" fill="#0b1220"/></svg>
        واتساب
      </a>
      <a href="#" title="Telegram">
        <svg viewBox="0 0 24 24" fill="none"><path d="M22 3 9.5 12.5 6 10 2 8l20-5Z" stroke="#0b1220" stroke-width="2"/><path d="m22 3-5 18-7.5-8" stroke="#0b1220" stroke-width="2"/></svg>
        تيليجرام
      </a>
      <a href="#" title="X / Twitter">
        <svg viewBox="0 0 24 24" fill="none"><path d="M3 3l18 18M21 3 3 21" stroke="#0b1220" stroke-width="2"/></svg>
        X
      </a>
      <a href="#" title="YouTube">
        <svg viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="12" rx="3" stroke="#0b1220" stroke-width="2"/><path d="M10 9v6l6-3-6-3Z" fill="#0b1220"/></svg>
        YouTube
      </a>
      <a href="#" title="Facebook">
        <svg viewBox="0 0 24 24" fill="none"><path d="M14 8h3V5h-3a4 4 0 0 0-4 4v3H7v3h3v6h3v-6h3l1-3h-4V9a1 1 0 0 1 1-1Z" fill="#0b1220"/></svg>
        Facebook
      </a>
      <a href="mailto:zxx3997@gmail.com" title="Email">
        <svg viewBox="0 0 24 24" fill="none"><rect x="3" y="5" width="18" height="14" rx="2" stroke="#0b1220" stroke-width="2"/><path d="m4 7 8 6 8-6" stroke="#0b1220" stroke-width="2"/></svg>
        Email
      </a>
    </div>

    <div class="links" aria-label="روابط">
      <button class="link-btn" data-sheet="about">من نحن</button>
      <button class="link-btn" data-sheet="contact">تواصل معنا</button>
      <button class="link-btn" data-sheet="privacy">سياسة الخصوصية</button>
    </div>

    <div class="sheet" id="sheet">
      <div class="sheet-card" role="dialog" aria-modal="true" aria-labelledby="sheetTitle">
        <h3 id="sheetTitle">—</h3>
        <div id="sheetContent" class="muted"></div>
        <button class="btn btn-ghost back" id="sheetBack">رجوع</button>
      </div>
    </div>

    <footer>© <span id="y"></span> — تصميم احترافي، متجاوب، خفيف</footer>
  </div>

<script>
  const PROMPTS_URL = './prompts.json';
  const WHATSAPP_NUMBER = '249111343596';
  const WHATSAPP_MESSAGE = encodeURIComponent('اريد الكتاب');

  let PROMPTS=[]; let loaded=false;

  const $ = (s)=>document.querySelector(s);
  const codeInput=$('#codeInput'), btnSearch=$('#btnSearch'), btnClear=$('#btnClear');
  const resultBox=$('#resultBox'), resTitle=$('#resTitle'), resText=$('#resText');
  const emptyBox=$('#emptyBox'), statusEl=$('#status'), buyBtn=$('#buyBtn'), countdown=$('#countdown');

  function show(el){ el.classList.remove('hidden'); } 
  function hide(el){ el.classList.add('hidden'); }
  function setStatus(msg,type='info'){ statusEl.textContent=msg||''; statusEl.style.color=(type==='error')?'#fca5a5':'#94a3b8'; if(msg)show(statusEl);else hide(statusEl); }
  const normalize=(v)=>String(v||'').replace(/[\u200E\u200F\u202A-\u202E]/g,'').replace(/\s+/g,'').replace(/[^\x00-\x7F]/g,'').toUpperCase();
  const debounce=(fn,ms)=>{ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a),ms); } };

  async function loadPrompts(){
    if(loaded) return PROMPTS;
    try{
      setStatus('...جارِ تحميل البيانات');
      const r=await fetch(PROMPTS_URL,{cache:'no-store'}); if(!r.ok) throw 0;
      const j=await r.json(); PROMPTS=Array.isArray(j?.prompts)?j.prompts:[]; loaded=true; setStatus('');
    }catch{ setStatus('تعذر تحميل prompts.json — تأكد من رفعه بجوار index.html','error'); PROMPTS=[]; loaded=true; }
    return PROMPTS;
  }

  async function search(){
    const code=normalize(codeInput.value); 
    if(!code){ hide(resultBox); show(emptyBox); setStatus(''); return; }
    const data=await loadPrompts(); const item=data.find(p=>String(p.code).toUpperCase()===code);
    if(!item){ hide(resultBox); show(emptyBox); setStatus(`لم يتم العثور على الكود: ${code}`,'error'); return; }
    resTitle.textContent=item.title||'بدون عنوان'; resText.textContent=item.text||'—';
    show(resultBox); hide(emptyBox); setStatus('');
  }

  async function copy(t){ try{ await navigator.clipboard.writeText(t); setStatus('تم النسخ ✓'); }catch{ setStatus('تعذر النسخ — انسخ يدويًا','error'); } }
  $('#btnCopyText')?.addEventListener('click',()=>{ const t=resText.textContent.trim(); if(!t){ setStatus('لا يوجد نص لنسخه','error'); return;} copy(t); });

  btnSearch.addEventListener('click',search);
  codeInput.addEventListener('input', debounce(()=>search(), 250));
  codeInput.addEventListener('keydown',e=>{ if(e.key==='Enter') search(); });
  btnClear.addEventListener('click',()=>{ codeInput.value=''; hide(resultBox); show(emptyBox); setStatus(''); codeInput.focus(); });

  function updateWA(){
    const wa1=`https://wa.me/${WHATSAPP_NUMBER}?text=${WHATSAPP_MESSAGE}`;
    const wa2=`https://api.whatsapp.com/send?phone=${WHATSAPP_NUMBER}&text=${WHATSAPP_MESSAGE}`;
    buyBtn.href=wa1;
    buyBtn.addEventListener('click', ()=>{ setTimeout(()=>{ if(document.visibilityState==='visible') location.href=wa2; }, 600); });
  }

  // زر تفاصيل: إظهار/إخفاء
  document.getElementById('btnDetails').addEventListener('click', ()=>{
    document.getElementById('detailsBox').classList.toggle('hidden');
  });

  // صورة الكتاب: جرّب نسبي ثم مطلق
  (function(){
    const img=document.getElementById('bookImg');
    img.addEventListener('error', ()=>{ img.src='/book.jpg'; }, {once:true});
  })();

  // عداد العرض — يعيد من جديد عند الانتهاء
  const SALE_KEY='saleEndsAt', SALE_MS=48*60*60*1000;
  function initSale(){
    let ends=+localStorage.getItem(SALE_KEY);
    if(!ends || ends<Date.now()){ ends=Date.now()+SALE_MS; localStorage.setItem(SALE_KEY, String(ends)); }
    function tick(){
      let d=ends-Date.now();
      if(d<=0){ ends=Date.now()+SALE_MS; localStorage.setItem(SALE_KEY, String(ends)); d=ends-Date.now(); }
      const h=String(Math.floor(d/3600000)).padStart(2,'0');
      const m=String(Math.floor((d%3600000)/60000)).padStart(2,'0');
      const s=String(Math.floor((d%60000)/1000)).padStart(2,'0');
      countdown.textContent=`${h}:${m}:${s}`;
    }
    tick(); setInterval(tick,1000);
  }

  // شييت الروابط السفلية
  const sheet=$('#sheet'), sheetTitle=$('#sheetTitle'), sheetContent=$('#sheetContent'); 
  $('#sheetBack').addEventListener('click',()=>sheet.classList.remove('active')); 
  sheet.addEventListener('click',e=>{ if(e.target===sheet) sheet.classList.remove('active'); });
  document.querySelectorAll('[data-sheet]').forEach(b=>b.addEventListener('click',()=>{
    const k=b.getAttribute('data-sheet');
    const data={
      about:{t:'من نحن',c:`في موقعنا، نجمع لك أقوى وأذكى الأوامر (Prompts) المصممة خصيصًا لمساعدتك على إنجاز مهامك بسرعة ودقة.
نوفر مكتبة شاملة تغطي مجالات البرمجة، التسويق، التعليم، وصناعة المحتوى، مع إمكانية البحث برمز مختصر للوصول المباشر لأي أمر تحتاجه.
هدفنا أن نوفر لك أداة بسيطة واحترافية تجعل أفكارك تنطلق دون حدود.`},
      contact:{t:'تواصل معنا',c:`نسعد بتواصلكم معنا لأي استفسار أو اقتراح.
📧 البريد الإلكتروني: zxx3997@gmail.com`},
      privacy:{t:'سياسة الخصوصية',c:`نحن نحترم خصوصية زوارنا، ولا نقوم بجمع أي معلومات شخصية بدون موافقتك.
قد يستخدم موقعنا ملفات تعريف الارتباط (Cookies) لتحسين تجربة الاستخدام، ولعرض المحتوى أو الإعلانات ذات الصلة.
باستخدامك لموقعنا، فإنك توافق على هذه السياسة.
إذا كانت لديك أي أسئلة حول خصوصيتك، يمكنك التواصل معنا عبر صفحة "تواصل معنا".`}
    }[k];
    if(!data) return;
    sheetTitle.textContent=data.t; sheetContent.innerHTML='';
    data.c.split('\n').forEach(line=>{ const p=document.createElement('p'); p.className='muted'; p.textContent=line; sheetContent.appendChild(p); });
    sheet.classList.add('active');
  }));

  document.addEventListener('DOMContentLoaded', async ()=>{
    document.getElementById('y').textContent=new Date().getFullYear();
    updateWA(); initSale();
    const t=setTimeout(()=>{ if(!loaded && !PROMPTS.length){ PROMPTS=[{code:'MY1',title:'تتبع تغيّرات الكائنات العميقة في JavaScript',text:'اكتب مكتبة JavaScript صغيرة تمكّن من تتبع تغيّرات الكائنات العميقة (deep observer) باستخدام Proxy و recursive reflection.'}]; loaded=true; console.warn('fallback data in use — ارفع prompts.json'); } },1200);
    await loadPrompts().catch(()=>{}); clearTimeout(t);
  });
</script>
</body>
 </html>
