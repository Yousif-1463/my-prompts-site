<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mr ChatGPT</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Cairo', sans-serif;
        background-color: #0a0a0f;
        color: #fff;
        margin: 0;
        padding: 0;
    }
    header {
        text-align: center;
        padding: 15px;
        background: #111;
        font-size: 1.5rem;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    header img {
        width: 32px;
        height: 32px;
    }
    .container {
        max-width: 700px;
        margin: auto;
        padding: 20px;
    }
    .search-box {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }
    .search-box input {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
    }
    .search-box button {
        padding: 10px 15px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        background: linear-gradient(45deg, #007bff, #00c3ff);
        color: white;
    }
    .result {
        background: #161622;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    .copy-btn {
        background: #00ff88;
        border: none;
        padding: 8px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
    }
    .book-section {
        background: #111;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
    }
    .book-section img {
        width: 100%;
        max-width: 280px;
        border-radius: 10px;
        margin-bottom: 15px;
    }
    .price {
        font-size: 1.2rem;
        margin: 10px 0;
    }
    .timer {
        font-size: 1rem;
        color: #ff5252;
        margin: 5px 0;
    }
    .btn {
        display: inline-block;
        padding: 10px 20px;
        margin: 8px;
        border-radius: 8px;
        text-decoration: none;
        color: white;
    }
    .details-btn {
        background: linear-gradient(45deg, #ff8c00, #ff3c00);
    }
    .buy-btn {
        background: linear-gradient(45deg, #007bff, #00c3ff);
    }
</style>
</head>
<body>

<header>
    <img src="book.jpg" alt="شعار">
    Mr ChatGPT
</header>

<div class="container">

    <div class="search-box">
        <input type="text" id="search" placeholder="أدخل الكود...">
        <button onclick="searchPrompt()">بحث</button>
        <button onclick="clearSearch()" style="background:#ff4d4d;">مسح</button>
    </div>

    <div id="result" class="result" style="display:none;">
        <p id="commandText"></p>
        <button class="copy-btn" onclick="copyCommand()">📋</button>
    </div>

    <div class="book-section">
        <h3>كتاب: إتقان شهر دراسة في 30 دقيقة</h3>
        <p>تعلّم بسرعة وذكاء – خطوات عملية تركز على النتائج بدل الإرهاق.</p>
        <img src="book.jpg" alt="غلاف الكتاب">
        <div class="price">
            <del>$5</del> <strong>$1</strong>
        </div>
        <div class="timer" id="timer">00:00:00</div>
        <a href="#" class="btn details-btn">تفاصيل</a>
        <a id="whatsappBtn" class="btn buy-btn">شراء عبر واتساب</a>
    </div>

</div>

<script>
    let prompts = {};

    fetch('prompts.json')
        .then(res => res.json())
        .then(data => prompts = data);

    function searchPrompt() {
        let code = document.getElementById('search').value.trim();
        if (prompts[code]) {
            document.getElementById('commandText').textContent = prompts[code];
            document.getElementById('result').style.display = 'block';
        } else {
            document.getElementById('result').style.display = 'none';
        }
    }

    function clearSearch() {
        document.getElementById('search').value = '';
        document.getElementById('result').style.display = 'none';
    }

    function copyCommand() {
        let text = document.getElementById('commandText').textContent;
        navigator.clipboard.writeText(text);
        alert('تم نسخ الأمر!');
    }

    // واتساب مباشر
    document.getElementById('whatsappBtn').addEventListener('click', function () {
        let phone = '249111343596';
        let message = 'أريد الكتاب';
        let url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
        window.location.href = url;
    });

    // مؤقت العرض
    function startTimer(duration) {
        let timer = duration, hours, minutes, seconds;
        setInterval(function () {
            hours = parseInt(timer / 3600, 10);
            minutes = parseInt((timer % 3600) / 60, 10);
            seconds = parseInt(timer % 60, 10);

            hours = hours < 10 ? "0" + hours : hours;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            document.getElementById('timer').textContent = `${hours}:${minutes}:${seconds}`;

            if (--timer < 0) {
                timer = duration; // إعادة العداد من جديد
            }
        }, 1000);
    }

    window.onload = function () {
        startTimer(48 * 3600); // 48 ساعة
    };
</script>

</body>
</html>
